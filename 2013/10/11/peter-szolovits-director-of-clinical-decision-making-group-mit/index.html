
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Peter Szolovits, director of clinical decision making group @ MIT | Kokonur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Yafeng Shan">
    

    
    <meta name="description" content="from http://groups.csail.mit.edu/medg/people/psz/home/Pete_MEDG_site/Research.html
EVOLUTION OF MY MEDICAL ARTIFICIAL INTELLIGENCE RESEARCH by Peter Szolovits My research interests broadly include muc">
<meta property="og:type" content="article">
<meta property="og:title" content="Peter Szolovits, director of clinical decision making group @ MIT">
<meta property="og:url" content="http://blog.kokonur.me/2013/10/11/peter-szolovits-director-of-clinical-decision-making-group-mit/index.html">
<meta property="og:site_name" content="Kokonur">
<meta property="og:description" content="from http://groups.csail.mit.edu/medg/people/psz/home/Pete_MEDG_site/Research.html
EVOLUTION OF MY MEDICAL ARTIFICIAL INTELLIGENCE RESEARCH by Peter Szolovits My research interests broadly include muc">
<meta property="og:updated_time" content="2016-08-29T00:38:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Peter Szolovits, director of clinical decision making group @ MIT">
<meta name="twitter:description" content="from http://groups.csail.mit.edu/medg/people/psz/home/Pete_MEDG_site/Research.html
EVOLUTION OF MY MEDICAL ARTIFICIAL INTELLIGENCE RESEARCH by Peter Szolovits My research interests broadly include muc">
<link rel="publisher" href="110827390075659657828">

    
    <link rel="alternative" href="/atom.xml" title="Kokonur" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/favicon.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/favicon.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Kokonur" title="Kokonur"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Kokonur">Kokonur</a></h1>
				<h2 class="blog-motto">Tofu, fish and more sleep</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/toys">装备</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/10/11/peter-szolovits-director-of-clinical-decision-making-group-mit/" title="Peter Szolovits, director of clinical decision making group @ MIT" itemprop="url">Peter Szolovits, director of clinical decision making group @ MIT</a>
  </h1>
  <p class="article-author">By
    
    <a href="/author/xlb" title="Lubin Xu" target="_blank" itemprop="author">Lubin Xu</a>
    
  <p class="article-time">
    <time datetime="2013-10-11T14:17:11.000Z" itemprop="datePublished"> 发表于 2013-10-11</time>
    
  </p>
</header>

	<div class="article-content">
		
		<p>from <a href="http://groups.csail.mit.edu/medg/people/psz/home/Pete_MEDG_site/Research.html" target="_blank" rel="external">http://groups.csail.mit.edu/medg/people/psz/home/Pete_MEDG_site/Research.html</a></p>
<p>EVOLUTION OF MY MEDICAL ARTIFICIAL INTELLIGENCE RESEARCH by Peter Szolovits My research interests broadly include much of biomedical informatics. Throughout my career, I have avoided a tightly focused concentration on a single topic. Instead, I have tried to define my research interests by the demands of health care and how they could be satisfied by computing approaches. My graduate work in the early 1970’s focused on development of specialized application languages to support the computing needs of various disciplines. When I joined the MIT faculty in 1974, I met a group of doctors from Tufts/New England Medical Center who were trying to elucidate the thought processes of expert doctors as they performed diagnostic and therapeutic reasoning, and to build advisory programs that could help all doctors work as well as the best. I found that the challenges of this field provided an excellent focus for my interests in artificial intelligence, knowledge representation and reasoning. I therefore made the commitment to learn some medicine (I know enough jargon to be able to play a doctor on TV!) and to understand how AI techniques can help computers “think through” complex medical decision problems. My early doctoral students made excellent contributions to such AI challenges: automated generation of explanations, qualitative modeling of physiology, meta-level control of computation, expert systems based on pathophysiologic models at different levels of detail, reasoning about individual patient preferences, and temporal reasoning. We contributed to the work that became identified as the “expert systems” boom of the 1980’s, enriching the applicable techniques.</p>
<p>In medical AI, my first effort in 1975 was to re-engineer a previously-developed very inefficient diagnosis program for renal (kidney) diseases in order to make experimentation with it feasible. With my colleague Steve Pauker, I also wrote what turned out to be a very influential survey paper of various AI methods of reasoning in medical diagnosis. It explains different reasoning methods adopted by some of the early medical AI programs and points out challenges in more clearly defining the semantics of the knowledge they purport to contain. At this time, I became convinced that medical practice innately relies on feedback from what has been done before, so programs that advise human practitioners must work similarly. They must repeatedly and incrementally re-assess diagnostic and therapeutic plans as time passes, underlying pathologies evolve, and therapies take effect, and thus new observations are acquired. My other insight from these early analyses was that very rarely does an interesting patient (one for whom help from a computer might be useful) suffer from a single, untreated disease. Techniques that match symptoms to generic disease descriptions are rarely adequate, no matter whether they are described by rules, templates, or frames, because they fail to account for interactions. A full pathophysiological theory could in principle represent all the interactions, say in the form of hundreds of differential equations and thousands of parameters. Alas, it cannot yield a useful clinical model because collecting the data needed to estimate all these parameters is infeasible. We need instead a set of models that lie between simple symptom-diseases associations and such differential equation models. Patil’s thesis on diagnosis of acid-base and electrolyte disorders pioneered such an approach in the early 1980’s, and Long’s clinical-level heart disease models extended it.</p>
<p>The growing availability of real data, which was foreseen in the 1980‘s, began to be real in the 1990’s, and threatens to inundate us in the 21st century, has made a huge change in my own work and that of my students. We (and our computers) can now learn even complex associations between observables and patient states from large corpora of labeled data. Therefore, much of our research today focuses on finding novel ways to characterize huge collections of data and to develop predictive algorithms that do a good job of anticipating changes in a patient’s state from his or her previous condition and treatments being applied. Thus far, we have been able to pick lots of low-hanging fruit by applying existing statistical and machine learning methods to the analysis of such data. However, I anticipate that new methods will also need to be developed in order to deal effectively with the great complexity of what happens to seriously ill patients. For example, at present we tend to build predictive models using a set of features of the case. These normally include aspects of the patient’s medical history, their current problems, current and recent laboratory measurements, drugs and procedures. Such features are designed to summarize the timeline over which the actual data have evolved, by computing trend lines, averages and spreads over various time periods, etc. These provide a useful, but hardly comprehensive account for how the patient’s illness has changed over time or how it has responded to previous attempts at treatment. In the 1990’s we have tried to develop Markov process and dynamic systems models of such phenomena, but the complexity of the models coupled with the computational difficulty of solving them had limited their effectiveness to very small example problems. I believe that it is time to try such more sophisticated models again, so that they can exploit innately time-dependent phenomena such as pharmacokinetics. Also, because virtually every patient’s condition shows the effects of combining perhaps multiple disease processes and therapeutic interventions, partially observable Markov decision processes can provide a more nuanced interpretation of data than simpler feature-based predictive models.</p>
<p>In 1974, I had estimated that by the early 1980’s most large hospitals would have switched their practice to electronic collection, storage and retrieval of their medical records. Because this has still not happened (as of 2010), I was clearly wrong. I had based my guess on a simple extrapolation of the costs of keeping paper records vs. the costs of electronic storage. I think those two cost curves did indeed cross in the early 1980’s, but I had not thought through the enormous costs (financial, institutional and human) of making such a switch. By the early 1990’s, I decided that I needed to develop a research focus on medical record systems, to better understand why it was so difficult to put them in place. This led to three different lines of work in my group, each of which still continues.</p>
<p>First, we realized as soon as the World Wide Web was created that this formed the most appropriate technical basis for presenting and using medical information. With our colleagues at Childrens Hospital Boston (CHB) and others in the Boston area, we formed a collaborative effort that demonstrated by 1994 the ability to view medical records from CHB anywhere on the internet (with suitable security) and by 1995 that ability to aggregate data from multiple institutions to present a longitudinal view of all data about a patient, even if collected at different hospitals and clinics. We also implemented and published consensus methods for assuring the protection of the confidentiality of patients’ clinical records.</p>
<p>Second, also in 1994, we outlined a vision of life-long personal health care supported by a computer system (called Guardian Angel) that kept comprehensive records, educated patients about their health, provided them decision support, and served to connect them to providers and peer groups. Although the vision is still far from being implemented, it did lead us to develop the earliest approaches to personally controlled health records, which have been influential on subsequent commercial developments such as Dossia, Google Health and Microsoft Health Vault. With the many anticipated changed in health care delivery and financing being debated in 2010, this vision is still relevant and cries out for continued research.</p>
<p>Third, through debates around 1993 about the propriety of adopting the social security number as a national health identifier, I felt challenged to study broader issues of patient privacy. We proposed cryptographic identification schemes that permitted aggregation of clinical data about a patient only via the participation of the patient. We demonstrated the risks of naive de-identification methods, which leave in place enough unique data about individual patients to make them re-identifiable. We also demonstrated that properly pseudonymized data could still be used effectively to support secondary uses of those data without casually revealing the identities of the patients. I also served on a National Research Council committee that reported on the poor state of protection of electronic health records in 1997 and inspired some provisions of the HIPAA privacy protections. Later, I also served on an Institute of Medicine committee that helped to define the role of institutional review boards in protecting patient confidentiality in data studies. Much remains to be done, both technically and in policy, to protect patients and encourage data sharing.</p>
<p>In the past decade, I have focused on developing techniques to extract codified clinical data from narrative text and speech conversations. This has proven important because of the Willie Sutton principle—that is where a lot of the data are. Practitioners are able and willing to describe clinical phenomena with great sophistication in natural language, but not in formal representations. It remains a challenge, however, to translate that narrative text to rich formal representations. Even just identifying the various ways of expressing the same facts and translating these into a terminology such as SNOMED or ICD remains difficult. Accounting for more subtle statements, such as accounts of how findings support or dispute diagnostic hypotheses, or contingent plans, seems beyond the state of the art. My colleagues and I have worked on a highly flexible language processing framework to support research in this area. We have also extended the dictionary of a popular parser with medical terminology, built pattern matching methods to find descriptions of medications and dosages in text, identified signs, symptoms, diseases, treatments, tests and their results using both pattern-based and statistical methods, identified temporal and likelihood indicators about such facts, determined some relations among facts mentioned together, etc. We have also developed two different approaches to de-identification of clinical data for research purposes, one based on dictionaries and patterns, the other on statistical machine learning techniques. These have been used to enable the re-use of large clinical datasets for research purposes in many projects.</p>
<p>The advent of the genomic revolution in the 1990’s promised to usher in an era of personalized medicine, where measurements of single nucleotide polymorphisms (or, eventually sequencing of individual genomes), genomic measurements of transcription, proteomic measurements of gene products, etc., could combine with clinical facts to provide highly customized diagnostic tools and methods to choose and optimize therapy for individual patients. We have contributed to this effort in the Partners Healthcare-based i2b2 project both through our natural language work and through efforts to bring together modeling techniques from statistics with those from artificial intelligence.</p>
<p>CURRENT PROJECTS</p>
<p>As of late 2010, I am focused on four ongoing research projects, although my interests continue on essentially all of the topics mentioned in my historical overview. These are described in more detail in my group’s home page, but I give brief summaries here.</p>
<p>Capturing Patient-Provider Encounter through Text Speech and Dialogue Processing: Create a system that captures primary medical data mentioned during an encounter between a health care provider and a patient. We use speech-to-text technology to create an approximate transcript of both sides of such a conversation, use natural language processing and machine learning methods to extract relevant clinical content from the transcripts, organize these according to medical conventions, and display the data to both provider and patient to allow them to correct mistakes made by this process. We are applying this in the Pediatric Environmental Health Clinic at Children’s Hospital Boston.</p>
<p>Integrating Data, Models and Reasoning in Critical Care Develop techniques to collect, interpret, analyze and disseminate multi-channel data from intensive care collated with clinical notes and other patient data. The three foci of our group’s efforts are to extract meaningful data from textual records and to build algorithms that make sense of the clinical condition of the patient.</p>
<p>I2B2: Informatics for Integrating Biology and the Bedside Develop a scalable informatics framework that will bridge clinical research data and the vast data banks arising from basic science research in order to better understand the genetic bases of complex diseases. This knowledge will facilitate the design of targeted therapies for individual patients with diseases having genetic origins.</p>
<p>SHARP 4: Secondary Use of Clinical Data As part of a national collaborative group headed by Mayo Clinic, we are building tools to make it possible to re-use clinical data for purposes other than the patient care for which they were collected. Our efforts include natural language processing to identify salient facts and relationships in narrative textual data, defining classification models that can identify specific phenotypes from patient records, and defining ontologies to organize the relevant medical knowledge needed for these tasks.</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/category/biomedical-engineering/">biomedical engineering</a>
</div>


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://blog.kokonur.me/2013/10/11/peter-szolovits-director-of-clinical-decision-making-group-mit/" data-title="Peter Szolovits, director of clinical decision making group @ MIT | Kokonur" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2013/10/11/master-program-on-medical-informatics-provided-jointly-by-mit-and-harvard/" title="master program on medical informatics provided jointly by MIT and Harvard ">
  <strong>上一篇：</strong><br/>
  <span>
  master program on medical informatics provided jointly by MIT and Harvard </span>
</a>
</div>


<div class="next">
<a href="/2013/10/01/ecg-singal-processing/"  title="ecg singal processing">
 <strong>下一篇：</strong><br/> 
 <span>ecg singal processing
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	
		<div class="ds-thread" data-thread-key="87" data-title="Peter Szolovits, director of clinical decision making group @ MIT" data-url="http://blog.kokonur.me/2013/10/11/peter-szolovits-director-of-clinical-decision-making-group-mit/"></div>
	
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/category/Gentoo/" title="Gentoo">Gentoo<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/category/LDAP/" title="LDAP">LDAP<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/Linux/" title="Linux">Linux<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/category/NAS/" title="NAS">NAS<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/category/Travel/" title="Travel">Travel<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/category/Uncategorized/" title="Uncategorized">Uncategorized<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/Vim/" title="Vim">Vim<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/category/WSO2/" title="WSO2">WSO2<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/category/biomedical-engineering/" title="biomedical engineering">biomedical engineering<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/category/bugs-vs-drugs/" title="bugs vs drugs">bugs vs drugs<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/itching-for-a-solution/" title="itching for a solution">itching for a solution<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/category/meta/" title="meta">meta<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/pieces-of-mechanisms/" title="pieces of mechanisms">pieces of mechanisms<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/category/sdr/" title="sdr">sdr<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/wordpress/" title="wordpress">wordpress<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/category/文献阅读/" title="文献阅读">文献阅读<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/category/碎碎念/" title="碎碎念">碎碎念<sup>11</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tag/ldap/" title="ldap">ldap<sup>9</sup></a></li>
			
		
			
				<li><a href="/tag/OpenLDAP/" title="OpenLDAP">OpenLDAP<sup>7</sup></a></li>
			
		
			
				<li><a href="/tag/IS/" title="IS">IS<sup>3</sup></a></li>
			
		
			
				<li><a href="/tag/wso2/" title="wso2">wso2<sup>3</sup></a></li>
			
		
			
				<li><a href="/tag/linux/" title="linux">linux<sup>3</sup></a></li>
			
		
			
				<li><a href="/tag/startssl/" title="startssl">startssl<sup>2</sup></a></li>
			
		
			
				<li><a href="/tag/LDAP-Admin/" title="LDAP Admin">LDAP Admin<sup>2</sup></a></li>
			
		
			
				<li><a href="/tag/travel/" title="travel">travel<sup>2</sup></a></li>
			
		
			
				<li><a href="/tag/ufw/" title="ufw">ufw<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/apache/" title="apache">apache<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/strongswan/" title="strongswan">strongswan<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/vpn/" title="vpn">vpn<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/regex-dnsmasq-ipset/" title="regex dnsmasq ipset">regex dnsmasq ipset<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/build-gnuradio/" title="build-gnuradio">build-gnuradio<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/gnuradio/" title="gnuradio">gnuradio<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/gdb/" title="gdb">gdb<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/https/" title="https">https<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/index/" title="index">index<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/grunt/" title="grunt">grunt<sup>1</sup></a></li>
			
		
			
				<li><a href="/tag/grunt-cli/" title="grunt-cli">grunt-cli<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://linuxtoy.org/" target="_blank" title="LinuxTOY">LinuxTOY</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://scateu.me" target="_blank" title="Scateu&#39;s Blog">Scateu&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.byvoid.com/" target="_blank" title="BYVoid&#39;s Blog">BYVoid&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Yafeng Shan. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/cuckoohello" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		<a href="https://www.facebook.com/yafeng.shan" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		
		
		
		<a href="https://plus.google.com/110827390075659657828?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:cuckoo@kokonur.me" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		
				<div class="cc-license">
          <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
            <img src="/img/cc-by-nc-sa.svg" alt="Creative Commons" />
          </a>
        </div>
    

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Yafeng Shan">Yafeng Shan</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"kokonur"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-63496916-1', 'blog.kokonur.me');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
